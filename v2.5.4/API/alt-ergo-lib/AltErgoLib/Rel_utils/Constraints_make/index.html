<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Constraints_make (alt-ergo-lib.AltErgoLib.Rel_utils.Constraints_make)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">alt-ergo-lib</a> &#x00BB; <a href="../../index.html">AltErgoLib</a> &#x00BB; <a href="../index.html">Rel_utils</a> &#x00BB; Constraints_make</nav><header class="odoc-preamble"><h1>Module <code><span>Rel_utils.Constraints_make</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-Constraint"><a href="#argument-1-Constraint" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Constraint/index.html">Constraint</a></span><span> : <a href="../module-type-Constraint/index.html">Constraint</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type of constraint sets. A constraint set records a set of constraints that applies to semantic values, and remembers the relation between constraints and semantic values.</p><p>The constraints applying to a given semantic value can be recovered using the <code>iter_pending</code> functions.</p><p>New constraints are marked as &quot;pending&quot; when added to the constraint set (whether by a call to <code>add</code> or following a substitution). These constraints should ultimately be propagated; they can be accessed through the <code>iter_pending</code>. Once pending constraints have been propagated, the &quot;pending&quot; constraints should be cleared with <code>clear_pending</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div><div class="spec-doc"><p>Pretty-printer for constraint sets.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The empty constraint set.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><span class="label">ex</span>:<a href="../../Explanation/index.html#type-t">Explanation.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-Constraint/index.html#type-t">Constraint.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add ~ex c t</code> adds the constraint <code>c</code> to the set <code>t</code>.</p><p>The explanation <code>ex</code> justifies that the constraint <code>c</code> holds. If the same constraint is added multiple times with different explanations, only one of the explanations for the constraint will be kept.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-subst"><a href="#val-subst" class="anchor"></a><code><span><span class="keyword">val</span> subst : <span><span class="label">ex</span>:<a href="../../Explanation/index.html#type-t">Explanation.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>subst ~ex p v t</code> replaces all instances of <code>p</code> with <code>v</code> in the constraints.</p><p>The explanation <code>ex</code> justifies the equality <code>p = v</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_parents"><a href="#val-iter_parents" class="anchor"></a><code><span><span class="keyword">val</span> iter_parents : <span><span>(<span><span><a href="argument-1-Constraint/index.html#type-t">Constraint.t</a> <a href="../index.html#type-explained">explained</a></span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter_parents f r t</code> calls <code>f</code> on all the constraints that apply directly to <code>r</code> (precisely, all the constraints <code>r</code> is an argument of).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_pending"><a href="#val-iter_pending" class="anchor"></a><code><span><span class="keyword">val</span> iter_pending : <span><span>(<span><span><a href="argument-1-Constraint/index.html#type-t">Constraint.t</a> <a href="../index.html#type-explained">explained</a></span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter_pending f t</code> calls <code>f</code> on all the constraints currently marked as pending. Constraints are marked as pending when they are added, including when a new constraint is added due to substitution of an old constraint (whether the old constraint was pending or not).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-clear_pending"><a href="#val-clear_pending" class="anchor"></a><code><span><span class="keyword">val</span> clear_pending : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>clear_pending t</code> returns a copy of <code>t</code> except that no constraints are marked as pending.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-has_pending"><a href="#val-has_pending" class="anchor"></a><code><span><span class="keyword">val</span> has_pending : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_pending t</code> returns <code>true</code> if there is any constraint marked as pending. Hence if <code>has_pending t</code> returns <code>false</code>, <code>iter_pending</code> and <code>clear_pending</code> are guaranteed to be no-ops. Should only be used for optimization.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_args"><a href="#val-fold_args" class="anchor"></a><code><span><span class="keyword">val</span> fold_args : <span><span>(<span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fold_args f t acc</code> folds <code>f</code> over all the term representatives that are arguments of at least one constraint.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-simplify_pending"><a href="#val-simplify_pending" class="anchor"></a><code><span><span class="keyword">val</span> simplify_pending : 
  <span><span><span>(<span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <a href="../../Xliteral/index.html#type-view">L.view</a></span> * <a href="../../Explanation/index.html#type-t">Explanation.t</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../Shostak/Combine/index.html#type-r">X.r</a> <a href="../../Xliteral/index.html#type-view">L.view</a></span> * <a href="../../Explanation/index.html#type-t">Explanation.t</a>)</span> list</span> * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Simplify the pending constraints. This takes as argument a list of (explained) literals, and returns a list of (explained) literals, so that constraint simplification is able to propagate new literals (typically equalities) to the UF module.</p></div></div></div></body></html>
